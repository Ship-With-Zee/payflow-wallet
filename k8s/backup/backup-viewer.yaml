# ============================================
# Backup Viewer Pod
# ============================================
# Purpose: Temporary pod to view and manage backup files
# Usage: kubectl apply -f k8s/backup/backup-viewer.yaml
#        kubectl exec -it backup-viewer -n payflow -- sh

apiVersion: v1
kind: Pod
metadata:
  name: backup-viewer
  namespace: payflow
spec:
  restartPolicy: Never
  containers:
  - name: backup-viewer
    image: busybox
    command: ["sh", "-c", "echo 'Backup Viewer Ready. Use: ls -lh /backups' && sleep 3600"]
    volumeMounts:
    - name: backup-storage
      mountPath: /backups
  volumes:
  - name: backup-storage
    persistentVolumeClaim:
      claimName: postgres-backup-pvc

